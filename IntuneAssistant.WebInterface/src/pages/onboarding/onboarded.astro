---
import MainLayout from "@/layouts/main-layout.astro";
import {
  Card,
  CardContent,
  CardDescription,
  CardFooter,
  CardHeader,
  CardTitle,
} from "@/components/ui/card";

const gifImage = "/images/giphy.gif";

let tenant = '';
---

<MainLayout title="Onboarded" hideFooter>
  <div class="flex items-center justify-center h-[calc(100vh-25vh)]">
    <Card className="w-[400px] ">
      <CardHeader>
        <CardTitle class="text-center">
          Congratulations
        </CardTitle>
        <CardDescription>You have made it!</CardDescription>
      </CardHeader>
      <CardContent>
        <div class="flex justify-center">
          <img src={gifImage} alt="Celebration GIF" />
        </div>
        <hr class="border-t border-white my-4" />
        You have successfully activated Intune Assistant and ready for launch ðŸš€.
        <p id="tenant-id">Tenant ID: {tenant} </p>
      </CardContent>
      <CardFooter className="flex justify-between">
        â€” Enjoy!
      </CardFooter>
    </Card>
  </div>
</MainLayout>

<script>
  if (typeof window !== "undefined") {
    window.addEventListener('DOMContentLoaded', (event) => {
      const urlParams = new URLSearchParams(window.location.search);
      const tenant = urlParams.get('tenant') || '';
      document.getElementById('tenant-id').textContent += tenant;
    });
  }
</script>